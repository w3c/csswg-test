<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>CSS Transforms Test: rotateY with transform-style on nested elements</title>
    <link rel="author" title="You Yi" href="yi.you@intel.com">
    <link rel="help" href="http://www.w3.org/TR/2012/WD-css3-transforms-20120911/#rotateY-function">
    <link rel="help" href="http://www.w3.org/TR/css3-transforms/#transform-style-property">
    <link rel="match" href="reference/css-transform-3d-transform-style-ref.html">
    <meta name="flags" content="dom">
    <meta name="assert" content="Rotate the nested div with transform-style preserve-3d, rotated parent div for -60 degree on Y-axis then and rotated child div for 120 degree, at this time the parent and child should have equal width, then child div could cover the red box. This case works well on Firefox for ubuntu, chrome for mac, but fail on chromium for ubuntu and safari for mac.">
    <style>
      div {
        position: absolute;
      }
      div.container {
        background-color: gray;
        height: 200px;
        width: 200px;
        left: 65px;
        top: 45px;              
      }
      div.blue {
        background-color: blue;
        height: 180px;
        width: 180px;
        left: 10px;
        top: 10px;
        transform: rotateY(-60deg);
        transform-style: preserve-3d;
      }
      div.green {
        background-color: green;
        left: 40px;
        top: 0px;
        height: 180px;             
        width: 180px;
        transform: rotateY(120deg);
      }
      div.red{
        background-color: red;
        left: 140px;
        top: 10px;
        height: 180px;             
        width: 20px;
      }
    </style>
  </head>
  <body>
    <p>Test passes if there is a gray square with <b>one bule</b> and <b>one green</b> box inside, and no any red.</p>
    <div class="container">
      <div class="red"></div>
      <div class="blue">
        <div class="green"></div>
      </div>
    </div>   
  </body>
</html>
